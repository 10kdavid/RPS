exports.id=979,exports.ids=[979],exports.modules={9624:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{Z:()=>F});var n=r(6689),a=r(7518),i=r.n(a),s=r(7142),l=r(997),c=e([s]);s=(c.then?(await c)():c)[0];let d=i().div.withConfig({displayName:"GlobalChat__ChatContainer",componentId:"sc-mgp0j1-0"})(["position:fixed;right:",";top:0;height:100vh;width:360px;background-color:#0e1c30;border-left:1px solid rgba(255,255,255,0.1);z-index:1000;display:flex;flex-direction:column;transition:right 0.3s ease-in-out;box-shadow:",";"],e=>e.$isOpen?"0":"-360px",e=>e.$isOpen?"-5px 0 15px rgba(0, 0, 0, 0.2)":"none"),p=i().div.withConfig({displayName:"GlobalChat__ChatHeader",componentId:"sc-mgp0j1-1"})(["display:flex;justify-content:space-between;align-items:center;padding:15px 20px;border-bottom:1px solid rgba(255,255,255,0.1);background-color:#0c1827;"]),g=i().div.withConfig({displayName:"GlobalChat__ChatTitle",componentId:"sc-mgp0j1-2"})(["display:flex;align-items:center;gap:10px;font-weight:600;color:white;.icon{font-size:1.2rem;}"]),m=i().div.withConfig({displayName:"GlobalChat__OnlineCounter",componentId:"sc-mgp0j1-3"})(["background-color:rgba(0,236,65,0.2);color:var(--button-primary);padding:4px 8px;border-radius:12px;font-size:0.8rem;display:flex;align-items:center;gap:5px;.dot{width:8px;height:8px;background-color:var(--button-primary);border-radius:50%;}"]),u=i().button.withConfig({displayName:"GlobalChat__CloseButton",componentId:"sc-mgp0j1-4"})(["background:transparent;border:none;color:rgba(255,255,255,0.7);cursor:pointer;font-size:1.2rem;&:hover{color:white;}"]),h=i().button.withConfig({displayName:"GlobalChat__ChatToggleButton",componentId:"sc-mgp0j1-5"})(["position:fixed;right:",";top:50%;transform:translateY(-50%);background-color:var(--button-primary);color:white;border:none;width:40px;height:100px;display:flex;align-items:center;justify-content:center;cursor:pointer;border-radius:10px 0 0 10px;transition:right 0.3s ease-in-out;z-index:999;box-shadow:-2px 0 10px rgba(0,0,0,0.2);&:hover{background-color:var(--button-hover);}"],e=>e.$isOpen?"360px":"0"),f=i().div.withConfig({displayName:"GlobalChat__ChatTabs",componentId:"sc-mgp0j1-6"})(["display:flex;border-bottom:1px solid rgba(255,255,255,0.1);"]),b=i().div.withConfig({displayName:"GlobalChat__ChatTab",componentId:"sc-mgp0j1-7"})(["flex:1;padding:12px;text-align:center;color:",";font-weight:",";cursor:pointer;border-bottom:2px solid ",";transition:all 0.2s;&:hover{color:white;background-color:rgba(255,255,255,0.05);}"],e=>e.$active?"white":"rgba(255, 255, 255, 0.6)",e=>e.$active?"600":"400",e=>e.$active?"var(--button-primary)":"transparent"),x=i().div.withConfig({displayName:"GlobalChat__MessagesContainer",componentId:"sc-mgp0j1-8"})(["flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.2);border-radius:3px;}"]),y=i().div.withConfig({displayName:"GlobalChat__MessageWrapper",componentId:"sc-mgp0j1-9"})(["display:flex;flex-direction:column;align-items:",";max-width:100%;"],e=>e.$isMine?"flex-end":"flex-start"),w=i().div.withConfig({displayName:"GlobalChat__MessageBubble",componentId:"sc-mgp0j1-10"})(["background-color:",";color:",";padding:10px 15px;border-radius:18px;border-bottom-right-radius:",";border-bottom-left-radius:",";max-width:85%;word-wrap:break-word;font-size:0.9rem;"],e=>e.$isSystem?"rgba(59, 130, 246, 0.2)":e.$isMine?"var(--button-primary)":"rgba(255, 255, 255, 0.1)",e=>e.$isMine?"white":"rgba(255, 255, 255, 0.9)",e=>e.$isMine?"4px":"18px",e=>e.$isMine?"18px":"4px"),v=i().div.withConfig({displayName:"GlobalChat__MessageInfo",componentId:"sc-mgp0j1-11"})(["display:flex;align-items:center;gap:6px;margin-bottom:4px;"]),j=i().span.withConfig({displayName:"GlobalChat__SenderName",componentId:"sc-mgp0j1-12"})(["font-size:0.8rem;font-weight:600;color:rgba(255,255,255,0.8);"]),C=i().span.withConfig({displayName:"GlobalChat__Timestamp",componentId:"sc-mgp0j1-13"})(["font-size:0.7rem;color:rgba(255,255,255,0.5);"]),S=i().div.withConfig({displayName:"GlobalChat__MessageAvatar",componentId:"sc-mgp0j1-14"})(["width:26px;height:26px;border-radius:50%;background-color:#3b82f6;display:flex;align-items:center;justify-content:center;color:white;font-size:0.8rem;font-weight:600;"]),_=i().div.withConfig({displayName:"GlobalChat__InputArea",componentId:"sc-mgp0j1-15"})(["border-top:1px solid rgba(255,255,255,0.1);padding:15px;"]),k=i().div.withConfig({displayName:"GlobalChat__InputWrapper",componentId:"sc-mgp0j1-16"})(["display:flex;gap:10px;"]),O=i().button.withConfig({displayName:"GlobalChat__EmojiButton",componentId:"sc-mgp0j1-17"})(["background-color:transparent;border:none;color:rgba(255,255,255,0.7);cursor:pointer;font-size:1.2rem;transition:color 0.2s;&:hover{color:white;}"]),I=i().input.withConfig({displayName:"GlobalChat__ChatInput",componentId:"sc-mgp0j1-18"})(["flex:1;background-color:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:20px;padding:10px 15px;color:white;font-size:0.9rem;&:focus{outline:none;border-color:var(--button-primary);box-shadow:0 0 0 2px rgba(0,236,65,0.2);}&::placeholder{color:rgba(255,255,255,0.5);}"]),N=i().button.withConfig({displayName:"GlobalChat__SendButton",componentId:"sc-mgp0j1-19"})(["background-color:var(--button-primary);color:white;border:none;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background-color 0.2s;&:hover{background-color:var(--button-hover);}&:disabled{opacity:0.5;cursor:not-allowed;}"]),E=i().div.withConfig({displayName:"GlobalChat__UsersContainer",componentId:"sc-mgp0j1-20"})(["flex:1;overflow-y:auto;padding:15px;&::-webkit-scrollbar{width:6px;}&::-webkit-scrollbar-track{background:transparent;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.2);border-radius:3px;}"]),P=i().div.withConfig({displayName:"GlobalChat__UsersList",componentId:"sc-mgp0j1-21"})(["display:flex;flex-direction:column;gap:5px;"]),$=i().div.withConfig({displayName:"GlobalChat__UserItem",componentId:"sc-mgp0j1-22"})(["display:flex;align-items:center;padding:10px;border-radius:8px;cursor:pointer;transition:background-color 0.2s;&:hover{background-color:rgba(255,255,255,0.05);}"]),D=i().div.withConfig({displayName:"GlobalChat__UserAvatar",componentId:"sc-mgp0j1-23"})(["width:36px;height:36px;border-radius:50%;background-color:#3b82f6;display:flex;align-items:center;justify-content:center;color:white;font-size:1rem;font-weight:600;margin-right:10px;"]),A=i().div.withConfig({displayName:"GlobalChat__UserInfo",componentId:"sc-mgp0j1-24"})(["flex:1;"]),L=i().div.withConfig({displayName:"GlobalChat__UserName",componentId:"sc-mgp0j1-25"})(["font-size:0.9rem;font-weight:600;color:white;"]),G=i().div.withConfig({displayName:"GlobalChat__UserStatus",componentId:"sc-mgp0j1-26"})(["font-size:0.8rem;color:rgba(255,255,255,0.6);display:flex;align-items:center;gap:5px;"]),T=i().div.withConfig({displayName:"GlobalChat__StatusDot",componentId:"sc-mgp0j1-27"})(["width:8px;height:8px;border-radius:50%;background-color:",";"],e=>e.$isOnline?"var(--button-primary)":"var(--text-secondary)"),R=i().div.withConfig({displayName:"GlobalChat__SectionTitle",componentId:"sc-mgp0j1-28"})(["padding:8px 0;font-size:0.8rem;color:rgba(255,255,255,0.5);text-transform:uppercase;font-weight:600;margin-bottom:5px;"]),M=i().div.withConfig({displayName:"GlobalChat__EmojiSelector",componentId:"sc-mgp0j1-29"})(["position:absolute;bottom:80px;left:15px;background-color:#131f2c;border-radius:8px;padding:10px;display:grid;grid-template-columns:repeat(6,1fr);gap:5px;border:1px solid rgba(255,255,255,0.1);box-shadow:0 5px 15px rgba(0,0,0,0.3);"]),B=i().div.withConfig({displayName:"GlobalChat__EmojiOption",componentId:"sc-mgp0j1-30"})(["width:30px;height:30px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;border-radius:4px;&:hover{background-color:rgba(255,255,255,0.1);}"]),F=({onClose:e})=>{let{connected:t,publicKey:r,openWalletModal:o}=(0,s.Os)(),{0:a,1:i}=(0,n.useState)("chat"),{0:c,1:F}=(0,n.useState)(""),{0:W,1:z}=(0,n.useState)([]),{0:J,1:H}=(0,n.useState)(0),{0:U,1:Z}=(0,n.useState)([]),{0:q,1:Y}=(0,n.useState)(!1),K=(0,n.useRef)(null),{0:V,1:Q}=(0,n.useState)(!0),{0:X,1:ee}=(0,n.useState)(!1);(0,n.useRef)(null);let et=[{id:"1",name:"Alice",status:"online",lastActive:Date.now()},{id:"2",name:"Bob",status:"online",lastActive:Date.now()},{id:"3",name:"Charlie",status:"online",lastActive:Date.now()},{id:"4",name:"Dave",status:"offline",lastActive:Date.now()-18e5},{id:"5",name:"Eve",status:"online",lastActive:Date.now()},{id:"6",name:"Frank",status:"offline",lastActive:Date.now()-36e5},{id:"7",name:"Grace",status:"online",lastActive:Date.now()},{id:"8",name:"Heidi",status:"online",lastActive:Date.now()},{id:"9",name:"Ivan",status:"offline",lastActive:Date.now()-864e5},{id:"10",name:"Judy",status:"online",lastActive:Date.now()}];(0,n.useEffect)(()=>{let e=[{id:"1",sender:"System",message:"Welcome to Rock Paper Solana chat!",timestamp:Date.now()-36e5,isSystem:!0},{id:"2",sender:"Alice",message:"Hey everyone! Just won 5 SOL on blackjack \uD83E\uDD11",timestamp:Date.now()-18e5,avatar:"A"},{id:"3",sender:"Bob",message:"Nice! I'm on a losing streak today \uD83D\uDE2D",timestamp:Date.now()-15e5,avatar:"B"},{id:"4",sender:"Charlie",message:"Anyone want to play rock paper scissors? I'm feeling lucky!",timestamp:Date.now()-6e5,avatar:"C"},{id:"5",sender:"You",message:"I'm in! Send me an invite",timestamp:Date.now()-3e5,isMine:!0}];z(e),H(et.filter(e=>"online"===e.status).length),Z(et)},[]),(0,n.useEffect)(()=>{K.current?.scrollIntoView({behavior:"smooth"})},[W]);let er=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),eo=()=>{if(!c.trim())return;if(!t){let e={id:Date.now().toString(),sender:"System",message:"Please connect your wallet to send messages.",timestamp:Date.now(),isSystem:!0};z([...W,e]);return}let e={id:Date.now().toString(),sender:"You",message:c.trim(),timestamp:Date.now(),isMine:!0};z([...W,e]),F(""),Y(!1),setTimeout(()=>{let e=et[Math.floor(5*Math.random())],t=["Cool!","Interesting strategy...","I'll try that next time","Anyone up for a game?","How much did you win?","Good luck!"],r={id:(Date.now()+1).toString(),sender:e.name,message:t[Math.floor(Math.random()*t.length)],timestamp:Date.now(),avatar:e.name[0]};z(e=>[...e,r])},2e3)},en=e=>{F(t=>t+e)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d,{$isOpen:V,children:[(0,l.jsxs)(p,{children:[(0,l.jsxs)(g,{children:[l.jsx("div",{className:"icon",children:"\uD83D\uDCAC"}),"Global Chat",(0,l.jsxs)(m,{children:[l.jsx("div",{className:"dot"}),J," online"]})]}),l.jsx(u,{onClick:e,"aria-label":"Close chat",children:"\xd7"})]}),(0,l.jsxs)(f,{children:[l.jsx(b,{$active:"chat"===a,onClick:()=>i("chat"),children:"Chat"}),l.jsx(b,{$active:"users"===a,onClick:()=>i("users"),children:"Users"})]}),"chat"===a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x,{children:[W.map(e=>(0,l.jsxs)(y,{$isMine:e.isMine,$isSystem:e.isSystem,children:[!e.isSystem&&!e.isMine&&(0,l.jsxs)(v,{children:[l.jsx(S,{children:e.avatar||e.sender[0]}),l.jsx(j,{children:e.sender}),l.jsx(C,{children:er(e.timestamp)})]}),l.jsx(w,{$isMine:e.isMine,$isSystem:e.isSystem,children:e.message}),e.isMine&&l.jsx(C,{style:{marginTop:"4px"},children:er(e.timestamp)})]},e.id)),l.jsx("div",{ref:K})]}),(0,l.jsxs)(_,{children:[q&&l.jsx(M,{children:["\uD83D\uDE0A","\uD83D\uDE02","\uD83D\uDC4D","❤️","\uD83C\uDFAE","\uD83C\uDFC6","\uD83D\uDE80","\uD83D\uDD25","\uD83D\uDCAF","\uD83D\uDC4B","\uD83E\uDD11","\uD83C\uDFB2","\uD83C\uDCCF","\uD83D\uDCB0"].map(e=>l.jsx(B,{onClick:()=>en(e),children:e},e))}),(0,l.jsxs)(k,{children:[l.jsx(O,{onClick:()=>Y(!q),children:"\uD83D\uDE0A"}),l.jsx(I,{type:"text",placeholder:t?"Type your message...":"Connect wallet to chat",value:c,onChange:e=>F(e.target.value),onKeyDown:e=>"Enter"===e.key&&eo(),disabled:!t}),l.jsx(N,{onClick:eo,disabled:!t||!c.trim(),children:"➤"})]})]})]}):(0,l.jsxs)(E,{children:[(0,l.jsxs)(R,{children:["Online Users (",U.filter(e=>"online"===e.status).length,")"]}),l.jsx(P,{children:U.filter(e=>"online"===e.status).map(e=>(0,l.jsxs)($,{children:[l.jsx(D,{children:e.name[0]}),(0,l.jsxs)(A,{children:[l.jsx(L,{children:e.name}),(0,l.jsxs)(G,{children:[l.jsx(T,{$isOnline:!0}),"Online"]})]})]},e.id))}),(0,l.jsxs)(R,{style:{marginTop:"20px"},children:["Offline Users (",U.filter(e=>"offline"===e.status).length,")"]}),l.jsx(P,{children:U.filter(e=>"offline"===e.status).map(e=>(0,l.jsxs)($,{children:[l.jsx(D,{children:e.name[0]}),(0,l.jsxs)(A,{children:[l.jsx(L,{children:e.name}),(0,l.jsxs)(G,{children:[l.jsx(T,{$isOnline:!1}),"Offline"]})]})]},e.id))})]})]}),l.jsx(h,{onClick:()=>{Q(!V),V||e()},$isOpen:V,children:V?"→":"←"})]})};o()}catch(e){o(e)}})},5980:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{Z:()=>D});var n=r(6689),a=r(7518),i=r.n(a),s=r(1163),l=r(7142),c=r(9624),d=r(1664),p=r.n(d),g=r(997),m=e([l,c]);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}[l,c]=m.then?(await m)():m;let h=i().main.withConfig({displayName:"Layout__Main",componentId:"sc-12f2ntg-0"})(["min-height:calc(100vh - 70px);background-color:var(--primary-bg);color:var(--text-primary);margin-left:",";transition:margin-left 0.3s ease-in-out;@media (max-width:768px){margin-left:0;}"],e=>e.collapsed?"60px":"200px"),f=i().header.withConfig({displayName:"Layout__Header",componentId:"sc-12f2ntg-1"})(["display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background-color:var(--card-bg);border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:100;"]),b=i().div.withConfig({displayName:"Layout__Logo",componentId:"sc-12f2ntg-2"})(["display:flex;align-items:center;font-weight:700;font-size:1.2rem;letter-spacing:0.5px;margin-left:",";transition:margin-left 0.3s ease-in-out;@media (max-width:768px){margin-left:20px;}"],e=>e.collapsed?"70px":"210px"),x=i()(p()).withConfig({displayName:"Layout__LogoLink",componentId:"sc-12f2ntg-3"})(["display:flex;align-items:center;text-decoration:none;color:inherit;"]),y=i().span.withConfig({displayName:"Layout__LogoText",componentId:"sc-12f2ntg-4"})(["font-family:'Montserrat',sans-serif;font-weight:800;letter-spacing:1px;background:linear-gradient(120deg,#00ecaa,#00a3ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;"]),w=i().div.withConfig({displayName:"Layout__RPSLogo",componentId:"sc-12f2ntg-5"})(["background:linear-gradient(120deg,#00ecaa,#00a3ff);border-radius:12px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:0.8rem;color:#0e1c30;box-shadow:0 2px 10px rgba(0,236,170,0.3);margin-right:10px;"]),v=i().nav.withConfig({displayName:"Layout__HeaderNav",componentId:"sc-12f2ntg-6"})(["display:flex;gap:20px;@media (max-width:768px){display:none;}"]),j=i()(p()).withConfig({displayName:"Layout__StyledNavLink",componentId:"sc-12f2ntg-7"})(["color:",";font-weight:",";padding:5px 10px;border-radius:6px;transition:background-color 0.2s,color 0.2s;text-decoration:none;&:hover{background-color:rgba(255,255,255,0.05);color:var(--accent-blue);}"],e=>e.isActive?"var(--accent-blue)":"var(--text-primary)",e=>e.isActive?"600":"500"),C=i().div.withConfig({displayName:"Layout__HeaderActions",componentId:"sc-12f2ntg-8"})(["display:flex;gap:12px;align-items:center;"]),S=i().div.withConfig({displayName:"Layout__WalletInfo",componentId:"sc-12f2ntg-9"})(["background-color:rgba(255,255,255,0.05);padding:8px 12px;border-radius:6px;font-size:0.9rem;"]),_=i().span.withConfig({displayName:"Layout__WalletAddress",componentId:"sc-12f2ntg-10"})(["color:var(--text-secondary);font-size:0.85rem;margin-left:8px;"]),k=i().span.withConfig({displayName:"Layout__DropdownIcon",componentId:"sc-12f2ntg-11"})(["margin-left:8px;color:var(--text-secondary);"]),O=i().button.withConfig({displayName:"Layout__SecondaryButton",componentId:"sc-12f2ntg-12"})(["background-color:rgba(255,255,255,0.05);color:white;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;transition:background-color 0.2s;&:hover{background-color:rgba(255,255,255,0.1);}"]),I=i().button.withConfig({displayName:"Layout__PrimaryButton",componentId:"sc-12f2ntg-13"})(["background-color:var(--button-primary);color:white;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;transition:all 0.2s;font-weight:500;&:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(0,0,0,0.2);}"]),N=i().button.withConfig({displayName:"Layout__MobileMenuButton",componentId:"sc-12f2ntg-14"})(["display:none;background:transparent;border:none;color:var(--text-primary);font-size:1.5rem;cursor:pointer;@media (max-width:768px){display:block;}"]),E=i().div.withConfig({displayName:"Layout__MobileMenu",componentId:"sc-12f2ntg-15"})(["display:none;flex-direction:column;position:absolute;top:70px;left:0;right:0;background-color:var(--card-bg);z-index:100;border-bottom:1px solid var(--border-color);@media (max-width:768px){display:flex;}"]),P=i().div.withConfig({displayName:"Layout__MobileNavLink",componentId:"sc-12f2ntg-16"})(["padding:15px 20px;border-top:1px solid var(--border-color);"]),$=({children:e})=>{let t=(0,s.useRouter)(),{connected:r,balance:o,publicKey:a,openWalletModal:i,disconnectWallet:d,refreshBalance:p}=(0,l.Os)(),{0:m,1:u}=(0,n.useState)(!1),{0:$,1:D}=(0,n.useState)(!1),{0:A,1:L}=(0,n.useState)(!1),G=(0,n.useRef)(null),{0:T,1:R}=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=e=>{G.current&&!G.current.contains(e.target)&&L(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.useEffect)(()=>{r&&p()},[r,p]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(f,{children:[g.jsx(b,{collapsed:T,children:(0,g.jsxs)(x,{href:"/",children:[g.jsx(w,{children:"RPS"}),g.jsx(y,{children:"ROCK PAPER SOLANA"})]})}),(0,g.jsxs)(v,{children:[g.jsx(j,{href:"/",isActive:"/"===t.pathname,children:"Home"}),g.jsx(j,{href:"/games",isActive:"/games"===t.pathname||t.pathname.startsWith("/game/"),children:"Games"}),g.jsx(j,{href:"/wallet",isActive:"/wallet"===t.pathname,children:"Wallet"}),g.jsx(j,{href:"/settings",isActive:"/settings"===t.pathname,children:"Settings"}),g.jsx(j,{href:"/about",isActive:"/about"===t.pathname,children:"About"}),g.jsx(j,{href:"/contact",isActive:"/contact"===t.pathname,children:"Contact"}),g.jsx(j,{href:"/help",isActive:"/help"===t.pathname,children:"Help"})]}),(0,g.jsxs)(C,{children:[r?(0,g.jsxs)(S,{onClick:()=>{L(!A),!A&&r&&p()},ref:G,style:{cursor:"pointer",position:"relative"},children:[0===o?"0.00":o<.001&&o>0?o.toExponential(2):o.toFixed(4)," SOL",g.jsx(_,{children:a?`${a.slice(0,4)}...${a.slice(-4)}`:""}),g.jsx(k,{children:"▼"}),A&&(0,g.jsxs)("div",{style:{position:"absolute",top:"40px",right:"0",background:"var(--card-bg)",width:"180px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",border:"1px solid var(--border-color)",zIndex:100},children:[(0,g.jsxs)("div",{style:{padding:"12px 15px",cursor:"pointer",transition:"background-color 0.2s",display:"flex",alignItems:"center"},onClick:()=>{navigator.clipboard.writeText(a||""),L(!1)},children:[g.jsx("span",{style:{marginRight:"8px"},children:"\uD83D\uDCCB"})," Copy Address"]}),(0,g.jsxs)("div",{style:{padding:"12px 15px",cursor:"pointer",transition:"background-color 0.2s",display:"flex",alignItems:"center"},onClick:()=>{p()},children:[g.jsx("span",{style:{marginRight:"8px"},children:"\uD83D\uDD04"})," Refresh Balance"]}),(0,g.jsxs)("div",{style:{padding:"12px 15px",cursor:"pointer",transition:"background-color 0.2s",display:"flex",alignItems:"center"},onClick:()=>{d(),L(!1)},children:[g.jsx("span",{style:{marginRight:"8px"},children:"\uD83D\uDD0C"})," Disconnect"]})]})]}):g.jsx(I,{onClick:()=>{i()},children:"Connect Wallet"}),g.jsx(O,{onClick:()=>{u(e=>!e)},children:"Chat"}),g.jsx(N,{onClick:()=>{D(!$)},children:"☰"})]})]}),$&&(0,g.jsxs)(E,{children:[g.jsx(P,{children:g.jsx(j,{href:"/",isActive:"/"===t.pathname,children:"Home"})}),g.jsx(P,{children:g.jsx(j,{href:"/games",isActive:"/games"===t.pathname||t.pathname.startsWith("/game/"),children:"Games"})}),g.jsx(P,{children:g.jsx(j,{href:"/wallet",isActive:"/wallet"===t.pathname,children:"Wallet"})}),g.jsx(P,{children:g.jsx(j,{href:"/settings",isActive:"/settings"===t.pathname,children:"Settings"})}),g.jsx(P,{children:g.jsx(j,{href:"/about",isActive:"/about"===t.pathname,children:"About"})}),g.jsx(P,{children:g.jsx(j,{href:"/contact",isActive:"/contact"===t.pathname,children:"Contact"})}),g.jsx(P,{children:g.jsx(j,{href:"/help",isActive:"/help"===t.pathname,children:"Help"})})]}),(0,g.jsxs)(h,{collapsed:T,children:[e,m&&g.jsx(c.Z,{onClose:()=>{u(!1)}})]})]})},D=e=>g.jsx($,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e));o()}catch(e){o(e)}})},8697:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{Z:()=>g});var n=r(6689),a=r(3364),i=r(1247),s=r(8847),l=r(7280),c=r(7831),d=r(997),p=e([a,i,s,l]);[a,i,s,l]=p.then?(await p)():p,r(2121);let m=(0,n.createContext)({balance:null,network:"devnet",isDevnet:!0}),u=({children:e})=>{let{connection:t}=(0,i.useConnection)(),{publicKey:r,connected:o}=(0,i.useWallet)(),{0:a,1:s}=(0,n.useState)(null),{0:l,1:p}=(0,n.useState)(!0),g=async()=>{if(r&&t)try{console.log("Fetching wallet balance for",r.toString());let e=await t.getBalance(r)/c.LAMPORTS_PER_SOL;console.log(`Wallet balance: ${e} SOL (devnet)`),s(e)}catch(e){console.error("Error fetching balance:",e)}else s(null)};return(0,n.useEffect)(()=>{if(o&&r){g();let e=setInterval(g,15e3);return()=>clearInterval(e)}s(null)},[o,r,t]),d.jsx(m.Provider,{value:{balance:a,network:"devnet",isDevnet:l},children:e})};function g({children:e}){let t=a.WalletAdapterNetwork.Devnet,r="https://api.devnet.solana.com",o=[new l.PhantomWalletAdapter,new l.SolflareWalletAdapter];return(0,n.useEffect)(()=>{console.log(`Connecting to Solana ${t} at:`,r),r.includes("devnet")?console.log("Confirmed running on devnet"):console.warn("WARNING: Not running on devnet! This app is designed for devnet only.")},[r,t]),d.jsx(i.ConnectionProvider,{endpoint:r,children:d.jsx(i.WalletProvider,{wallets:o,autoConnect:!0,children:d.jsx(s.WalletModalProvider,{children:d.jsx(u,{children:e})})})})}o()}catch(e){o(e)}})},3666:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>u,pq:()=>m});var o=r(6689);async function n(e,t={}){try{console.log(`Calling proxy API: ${e}`);let r=await fetch(e,t);if(console.log(`API Response Status: ${r.status}`),!r.ok){let e="";try{let t=await r.json();e=JSON.stringify(t)}catch(t){e=r.statusText}throw Error(`API Error (${r.status}): ${e}`)}let o=await r.json();return console.log("API Response Data:",o),o}catch(e){throw console.error("API Call Failed:",e),e}}let a=async()=>n("/api/crossmint/wallet",{method:"POST",headers:{"Content-Type":"application/json"}}),i=async e=>(await n(`/api/crossmint/balance/${e}?tokens=sol,usdc&chains=solana-mainnet`)).balances||[],s=async(e,t,r)=>n(`/api/crossmint/transactions/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toAddress:t,amount:r.toString(),token:"sol",chain:"solana-mainnet"})}),l=async e=>(await n(`/api/crossmint/transactions/${e}`)).transactions||[];var c=r(997);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let g=(0,o.createContext)({balance:0,usdcBalance:0,connected:!1,walletAddress:null,connectWallet:async()=>{},createNewWallet:async()=>{},refreshBalance:async()=>{},sendTransaction:async()=>({}),getHistory:async()=>[],isLoading:!1,error:null,createEscrowWallet:async()=>"",sendToEscrow:async()=>({}),releaseEscrow:async()=>({}),getEscrowBalance:async()=>0}),m=()=>(0,o.useContext)(g),u=({children:e})=>{let{0:t,1:r}=(0,o.useState)(0),{0:n,1:d}=(0,o.useState)(0),{0:m,1:u}=(0,o.useState)(!1),{0:h,1:f}=(0,o.useState)(null),{0:b,1:x}=(0,o.useState)(!1),{0:y,1:w}=(0,o.useState)(null),{0:v,1:j}=(0,o.useState)({});(0,o.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("crossmint_wallet");if(e){console.log("Found saved wallet in localStorage:",e);let t=JSON.parse(e);f(t.address),u(!0),await _()}}catch(e){console.error("Error loading wallet from localStorage:",e),w("Failed to load saved wallet")}})()},[]);let C=async()=>{try{x(!0),w(null);let e=window.prompt('Enter your Solana wallet address or type "new" to create a new wallet');if(!e){x(!1);return}if("new"===e.toLowerCase()){await S();return}console.log("Connecting to wallet address:",e),localStorage.setItem("crossmint_wallet",JSON.stringify({address:e})),f(e),u(!0),await _()}catch(e){console.error("Error connecting wallet:",e),w(`Failed to connect wallet: ${e instanceof Error?e.message:String(e)}`)}finally{x(!1)}},S=async()=>{try{x(!0),w(null),console.log("Creating new Crossmint wallet...");let e=await a();if(console.log("Wallet created successfully:",e),!e||!e.address)throw Error("Wallet creation failed - no address returned");localStorage.setItem("crossmint_wallet",JSON.stringify({address:e.address})),f(e.address),u(!0),alert(`Your new wallet address: ${e.address}
Please save this address for future reference.`),r(0),d(0)}catch(e){console.error("Error creating wallet:",e),w(`Failed to create wallet: ${e instanceof Error?e.message:String(e)}`)}finally{x(!1)}},_=async()=>{if(!h){console.warn("Cannot refresh balance: no wallet address");return}try{x(!0),w(null),console.log(`Refreshing balance for wallet: ${h}`);let e=await i(h);if(console.log("Received balances:",e),!e||0===e.length){console.warn("No balances returned from API"),r(0),d(0);return}let t=e.find(e=>"sol"===e.token.toLowerCase());t?(console.log("Found SOL balance:",t.amount),r(parseFloat(t.amount))):(console.warn("No SOL balance found"),r(0));let o=e.find(e=>"usdc"===e.token.toLowerCase());o?(console.log("Found USDC balance:",o.amount),d(parseFloat(o.amount))):(console.warn("No USDC balance found"),d(0))}catch(e){console.error("Error refreshing balance:",e),w(`Failed to refresh balance: ${e instanceof Error?e.message:String(e)}`)}finally{x(!1)}},k=async(e,t)=>{if(!h)throw Error("Wallet not connected");try{x(!0),w(null),console.log(`Sending ${t} SOL to ${e}`);let r=await s(h,e,t);return console.log("Transaction result:",r),await _(),r}catch(e){throw console.error("Error sending transaction:",e),w(`Failed to send transaction: ${e instanceof Error?e.message:String(e)}`),e}finally{x(!1)}},O=async()=>{if(!h)return[];try{x(!0),w(null),console.log(`Getting transaction history for wallet: ${h}`);let e=await l(h);return console.log("Transaction history:",e),e}catch(e){return console.error("Error getting transaction history:",e),w(`Failed to get transaction history: ${e instanceof Error?e.message:String(e)}`),[]}finally{x(!1)}};(0,o.useEffect)(()=>{if(m&&h){console.log("Setting up automatic balance refresh"),_();let e=setInterval(_,3e4);return()=>clearInterval(e)}},[m,h]);let I=async e=>{try{if(x(!0),w(null),console.log(`Creating escrow wallet for game: ${e}`),v[e])return console.log(`Escrow wallet for game ${e} already exists: ${v[e]}`),v[e];let t=await a();if(console.log(`Escrow wallet created for game ${e}:`,t),!t||!t.address)throw Error("Escrow wallet creation failed");j(r=>p(p({},r),{},{[e]:t.address}));let r=JSON.parse(localStorage.getItem("crossmint_escrows")||"{}");return r[e]=t.address,localStorage.setItem("crossmint_escrows",JSON.stringify(r)),t.address}catch(e){throw console.error("Error creating escrow wallet:",e),w(`Failed to create escrow wallet: ${e instanceof Error?e.message:String(e)}`),e}finally{x(!1)}},N=async(e,t,r)=>{if(!h)throw Error("Wallet not connected");try{x(!0),w(null),console.log(`Sending ${r} SOL to escrow wallet ${t} for game ${e}`);let o=await s(h,t,r);return console.log(`Escrow funding result for game ${e}:`,o),await _(),o}catch(e){throw console.error("Error sending to escrow:",e),w(`Failed to send to escrow: ${e instanceof Error?e.message:String(e)}`),e}finally{x(!1)}},E=async(e,t,r)=>{try{x(!0),w(null),console.log(`Releasing escrow for game ${e} from ${t} to winner ${r}`);let o=(await i(t)).find(e=>"sol"===e.token.toLowerCase());if(!o||0>=parseFloat(o.amount))throw Error("Escrow wallet has insufficient balance");let n=parseFloat(o.amount);console.log(`Sending ${n} SOL from escrow to winner`);let a=await fetch("/api/crossmint/escrow/release",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({escrowAddress:t,winnerAddress:r,amount:n.toString(),gameId:e})});if(!a.ok){let e=await a.json();throw Error(`Failed to release escrow: ${JSON.stringify(e)}`)}let s=await a.json();j(t=>{let r=p({},t);return delete r[e],r});let l=JSON.parse(localStorage.getItem("crossmint_escrows")||"{}");return delete l[e],localStorage.setItem("crossmint_escrows",JSON.stringify(l)),s}catch(e){throw console.error("Error releasing escrow:",e),w(`Failed to release escrow: ${e instanceof Error?e.message:String(e)}`),e}finally{x(!1)}},P=async e=>{try{console.log(`Getting balance for escrow wallet: ${e}`);let t=(await i(e)).find(e=>"sol"===e.token.toLowerCase());if(t){let e=parseFloat(t.amount);return console.log(`Escrow wallet has ${e} SOL`),e}return 0}catch(e){return console.error("Error getting escrow balance:",e),0}};return(0,o.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem("crossmint_escrows")||"{}");j(e),console.log("Loaded escrow wallets from storage:",e)}catch(e){console.error("Error loading escrow wallets:",e)}},[]),c.jsx(g.Provider,{value:{balance:t,usdcBalance:n,connected:m,walletAddress:h,connectWallet:C,createNewWallet:S,refreshBalance:_,sendTransaction:k,getHistory:O,isLoading:b,error:y,createEscrowWallet:I,sendToEscrow:N,releaseEscrow:E,getEscrowBalance:P},children:e})}},7142:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{Os:()=>g});var n=r(6689),a=r(1247),i=r(8847),s=r(7831),l=r(7280);r(997);var c=e([a,i,l]);[a,i,l]=c.then?(await c)():c,r(2121);class d extends s.Connection{constructor(){super("https://mainnet.helius-rpc.com/?api-key=3b6552f4-0ce5-4800-b8b6-a1cc7480d494","confirmed")}async sendRpcRequest(e,t){try{console.log(`Sending RPC request via proxy: ${e}`,t);let r=await fetch("/api/solana/rpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:e,params:t})});if(!r.ok)throw Error(`RPC request failed: ${r.statusText}`);let o=await r.json();if(console.log("Proxy RPC response:",o),o.error)throw Error(`RPC error: ${JSON.stringify(o.error)}`);return o.result}catch(e){throw console.error("Proxy RPC request failed:",e),e}}async getBalance(e){try{let t=await this.sendRpcRequest("getBalance",[e.toBase58()]);if(console.log("Raw balance result from proxy:",t,typeof t),null==t)return console.warn("Received null or undefined balance, trying dedicated balance endpoint"),this.getBalanceFromDedicatedEndpoint(e.toBase58());let r="string"==typeof t?parseInt(t,10):Number(t);if(isNaN(r))return console.warn(`Invalid balance value resulted in NaN: ${t}, trying dedicated balance endpoint`),this.getBalanceFromDedicatedEndpoint(e.toBase58());return r}catch(t){return console.error("Error getting balance via proxy:",t),this.getBalanceFromDedicatedEndpoint(e.toBase58())}}async getBalanceFromDedicatedEndpoint(e){try{console.log(`Trying dedicated balance endpoint for ${e}`);let t=await fetch(`/api/solana/balance/${e}`);if(!t.ok)throw Error(`Balance endpoint failed: ${t.statusText}`);let r=await t.json();if(console.log("Dedicated balance endpoint response:",r),r&&"number"==typeof r.lamports)return r.lamports;throw Error("Invalid response from balance endpoint")}catch(e){return console.error("Error getting balance from dedicated endpoint:",e),0}}}new d;let p=(0,n.createContext)({balance:0,connected:!1,publicKey:null,connectWallet:async()=>{},disconnectWallet:async()=>{},openWalletModal:()=>{},refreshBalance:async()=>{}}),g=()=>(0,n.useContext)(p);o()}catch(e){o(e)}})},979:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{default:()=>m}),r(6689);var n=r(7518),a=r(5980),i=r(3666);r(108);var s=r(8697),l=r(997),c=e([a,s]);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}[a,s]=c.then?(await c)():c;let p={colors:{primary:"var(--button-primary)",primaryHover:"var(--button-hover)",secondary:"var(--text-secondary)",textPrimary:"var(--text-primary)",textSecondary:"var(--text-secondary)",background:"var(--primary-bg)",cardBackground:"var(--card-bg)",border:"var(--border-color)",success:"var(--button-success)",error:"var(--button-danger)",warning:"var(--accent-yellow)"},fontSizes:{small:"0.875rem",medium:"1rem",large:"1.25rem",xlarge:"1.5rem",xxlarge:"2rem"},breakpoints:{mobile:"640px",tablet:"768px",desktop:"1024px",wide:"1280px"}},g=(0,n.createGlobalStyle)(["body{margin:0;padding:0;box-sizing:border-box;background:var(--primary-bg);color:var(--text-primary);min-height:100vh;overflow-x:hidden;}"]),m=function({Component:e,pageProps:t}){return(0,l.jsxs)(l.Fragment,{children:[l.jsx(g,{}),l.jsx(s.Z,{children:l.jsx(n.ThemeProvider,{theme:p,children:l.jsx(i.ZP,{children:l.jsx(a.Z,{children:l.jsx(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t))})})})})]})};o()}catch(e){o(e)}})},108:()=>{}};