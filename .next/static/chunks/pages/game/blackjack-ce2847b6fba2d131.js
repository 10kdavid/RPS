(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{1105:function(e,n,t){"use strict";t.r(n);var r,a,o,i,c,s,l,d=t(7812),p=t(29),u=t(4687),g=t.n(u),h=t(7294),x=t(1686),m=t(9008),b=t.n(m),f=t(1163),j=t(9448),k=t(6329),y=t(3706),v=t(5893);function w(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return N(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,void 0)}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(c)throw o}}}}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var C=((r=C||{}).IDLE="idle",r.WAITING="waiting",r.PLAYING="playing",r.RESULT="result",r),E=((a=E||{}).WIN="win",a.LOSE="lose",a.DRAW="draw",a.NOT_DETERMINED="not_determined",a),P=((o=P||{}).HEARTS="hearts",o.DIAMONDS="diamonds",o.CLUBS="clubs",o.SPADES="spades",o),_=((i=_||{}).HIT="hit",i.STAND="stand",i),I=((c=I||{}).PLAYER="player",c.OPPONENT="opponent",c),S=((s=S||{}).DISCONNECTED="disconnected",s.CONNECTING="connecting",s.CONNECTED="connected",s.WAITING_FOR_OPPONENT="waiting_for_opponent",s.OPPONENT_CONNECTED="opponent_connected",s),T=((l=T||{}).NONE="none",l.SENT="sent",l.RECEIVED="received",l.ACCEPTED="accepted",l.REJECTED="rejected",l),O=x.ZP.div.withConfig({displayName:"blackjack__PageContainer",componentId:"sc-iqb356-0"})(["display:flex;min-height:100vh;background-color:#0f172a;color:white;position:relative;"]),D=x.ZP.div.withConfig({displayName:"blackjack__MainContent",componentId:"sc-iqb356-1"})(["margin-left:",";padding:20px;transition:margin-left 0.3s ease-in-out;width:calc(100% - ",");min-height:100vh;"],function(e){return e.collapsed?"60px":"240px"},function(e){return e.collapsed?"60px":"240px"}),A=x.ZP.div.withConfig({displayName:"blackjack__GameWrapper",componentId:"sc-iqb356-2"})(["display:flex;flex-direction:column;max-width:1200px;margin:0 auto;width:100%;padding-top:20px;"]),L=x.ZP.div.withConfig({displayName:"blackjack__GameContainer",componentId:"sc-iqb356-3"})(["display:flex;flex-direction:row;gap:20px;width:100%;margin-bottom:20px;@media (max-width:968px){flex-direction:column;}"]),Z=x.ZP.div.withConfig({displayName:"blackjack__LeftPanel",componentId:"sc-iqb356-4"})(["width:280px;background-color:#1e293b;border-radius:8px;padding:20px;display:flex;flex-direction:column;@media (max-width:968px){width:100%;}"]),R=x.ZP.div.withConfig({displayName:"blackjack__InputLabel",componentId:"sc-iqb356-5"})(["font-size:0.85rem;color:rgba(255,255,255,0.6);margin-bottom:8px;"]);x.ZP.div.withConfig({displayName:"blackjack__AmountContainer",componentId:"sc-iqb356-6"})(["margin-bottom:16px;"]);var q=x.ZP.div.withConfig({displayName:"blackjack__InputContainer",componentId:"sc-iqb356-7"})(["display:flex;align-items:center;background-color:#0a141e;border-radius:4px;border:1px solid rgba(255,255,255,0.1);padding:8px 12px;&.copied{background-color:rgba(34,197,94,0.2);border-color:rgba(34,197,94,0.5);animation:pulse 1.5s ease;}@keyframes pulse{0%{background-color:rgba(34,197,94,0.2);}50%{background-color:rgba(34,197,94,0.4);}100%{background-color:rgba(34,197,94,0.2);}}"]),G=x.ZP.input.withConfig({displayName:"blackjack__AmountInput",componentId:"sc-iqb356-8"})(["flex:1;background:transparent;border:none;color:white;font-size:0.9rem;&:focus{outline:none;}"]),Y=x.ZP.div.withConfig({displayName:"blackjack__CurrencyIcon",componentId:"sc-iqb356-9"})(["margin-right:6px;color:#00b4c9;font-size:1rem;"]),B=x.ZP.div.withConfig({displayName:"blackjack__ButtonsContainer",componentId:"sc-iqb356-10"})(["display:flex;gap:6px;margin-top:8px;"]),W=x.ZP.button.withConfig({displayName:"blackjack__PercentButton",componentId:"sc-iqb356-11"})(["background-color:#0a141e;border:1px solid rgba(255,255,255,0.1);border-radius:4px;color:rgba(255,255,255,0.6);padding:5px 8px;cursor:pointer;flex:1;transition:all 0.2s ease;font-size:0.8rem;&:hover{background-color:rgba(255,255,255,0.05);color:white;}"]),z=x.ZP.h2.withConfig({displayName:"blackjack__SectionTitle",componentId:"sc-iqb356-12"})(["font-size:1.2rem;font-weight:500;color:white;margin-bottom:16px;"]),F=x.ZP.button.withConfig({displayName:"blackjack__ActionButton",componentId:"sc-iqb356-13"})(['width:100%;padding:12px;background-color:#3b82f6;border:none;border-radius:4px;color:white;font-weight:600;font-size:0.9rem;cursor:pointer;transition:all 0.2s ease;margin-bottom:10px;position:relative;overflow:hidden;&:hover{background-color:#2563eb;transform:translateY(-1px);}&:active{transform:translateY(0);}&:focus{outline:none;box-shadow:0 0 0 2px rgba(59,130,246,0.5);}&:disabled{background-color:rgba(59,130,246,0.5);cursor:not-allowed;transform:none;}&:after{content:"";display:block;position:absolute;width:100%;height:100%;top:0;left:0;pointer-events:none;background-image:radial-gradient(circle,#fff 10%,transparent 10.01%);background-repeat:no-repeat;background-position:50%;transform:scale(10,10);opacity:0;transition:transform .3s,opacity .5s;}&:active:after{transform:scale(0,0);opacity:.3;transition:0s;}']),M=(0,x.ZP)(F).withConfig({displayName:"blackjack__FindOpponentButton",componentId:"sc-iqb356-14"})(["background-color:#334155;color:white;&:hover{background-color:#475569;}&:disabled{background-color:rgba(51,65,85,0.5);}"]),H=x.ZP.div.withConfig({displayName:"blackjack__BettingSection",componentId:"sc-iqb356-15"})(["margin-bottom:16px;border-bottom:1px solid rgba(255,255,255,0.1);padding-bottom:16px;"]),U=x.ZP.div.withConfig({displayName:"blackjack__ActionsSection",componentId:"sc-iqb356-16"})(["margin-bottom:16px;"]),J=(0,x.ZP)(F).withConfig({displayName:"blackjack__HitButton",componentId:"sc-iqb356-17"})(["background-color:#22c55e;&:hover{background-color:#16a34a;}&:disabled{background-color:rgba(34,197,94,0.5);}"]),V=(0,x.ZP)(F).withConfig({displayName:"blackjack__StandButton",componentId:"sc-iqb356-18"})(["background-color:#ef4444;&:hover{background-color:#dc2626;}&:disabled{background-color:rgba(239,68,68,0.5);}"]),K=x.ZP.div.withConfig({displayName:"blackjack__GameInfo",componentId:"sc-iqb356-19"})(["margin-top:auto;padding-top:16px;border-top:1px solid rgba(255,255,255,0.1);font-size:0.85rem;color:rgba(255,255,255,0.5);"]),Q=x.ZP.div.withConfig({displayName:"blackjack__GameStat",componentId:"sc-iqb356-20"})(["display:flex;justify-content:space-between;padding:4px 0;font-size:0.85rem;"]),X=x.ZP.span.withConfig({displayName:"blackjack__StatLabel",componentId:"sc-iqb356-21"})(["color:rgba(255,255,255,0.5);"]),$=x.ZP.span.withConfig({displayName:"blackjack__StatValue",componentId:"sc-iqb356-22"})(["color:white;font-weight:500;"]),ee=x.ZP.div.withConfig({displayName:"blackjack__BetAmountDisplay",componentId:"sc-iqb356-23"})(["background:rgba(0,180,201,0.1);border-radius:4px;padding:10px;margin-bottom:12px;color:rgba(255,255,255,0.7);text-align:center;span{font-weight:600;color:#00b4c9;}"]),en=x.ZP.div.withConfig({displayName:"blackjack__GameArea",componentId:"sc-iqb356-24"})(["flex:1;display:flex;flex-direction:column;background-color:#1e293b;border-radius:8px;padding:20px;min-height:480px;"]),et=x.ZP.h1.withConfig({displayName:"blackjack__GameTitle",componentId:"sc-iqb356-25"})(["font-size:1.8rem;font-weight:600;margin-bottom:20px;color:#3b82f6;text-align:center;"]),er=x.ZP.div.withConfig({displayName:"blackjack__PlayerArea",componentId:"sc-iqb356-26"})(["display:flex;flex-direction:column;margin-bottom:25px;align-items:center;"]),ea=x.ZP.div.withConfig({displayName:"blackjack__OpponentArea",componentId:"sc-iqb356-27"})(["display:flex;flex-direction:column;margin-bottom:25px;align-items:center;"]),eo=x.ZP.h3.withConfig({displayName:"blackjack__AreaTitle",componentId:"sc-iqb356-28"})(["font-size:1.1rem;color:rgba(255,255,255,0.8);margin-bottom:12px;"]),ei=x.ZP.div.withConfig({displayName:"blackjack__CardsContainer",componentId:"sc-iqb356-29"})(["display:flex;flex-wrap:wrap;gap:8px;margin-bottom:8px;justify-content:center;"]);x.ZP.div.withConfig({displayName:"blackjack__Score",componentId:"sc-iqb356-30"})(["font-size:1.1rem;font-weight:600;color:white;background:rgba(0,0,0,0.3);padding:4px 12px;border-radius:20px;"]);var ec=x.ZP.div.withConfig({displayName:"blackjack__ResultBanner",componentId:"sc-iqb356-31"})(["background:",";border-radius:8px;padding:16px;margin:16px 0;text-align:center;h3{margin:0 0 8px 0;color:",";font-size:1.4rem;}p{margin:0;color:rgba(255,255,255,0.7);}"],function(e){switch(e.result){case E.WIN:return"linear-gradient(120deg, rgba(46, 204, 113, 0.2), rgba(0, 180, 201, 0.2))";case E.LOSE:return"linear-gradient(120deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.2))";default:return"linear-gradient(120deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05))"}},function(e){switch(e.result){case E.WIN:return"#2ecc71";case E.LOSE:return"#e74c3c";default:return"white"}}),es=x.ZP.div.withConfig({displayName:"blackjack__BottomSection",componentId:"sc-iqb356-32"})(["background-color:#1e293b;border-radius:8px;padding:16px;margin-top:16px;"]),el=x.ZP.div.withConfig({displayName:"blackjack__TabsContainer",componentId:"sc-iqb356-33"})(["display:flex;border-bottom:1px solid rgba(255,255,255,0.1);margin-bottom:16px;"]),ed=x.ZP.button.withConfig({displayName:"blackjack__Tab",componentId:"sc-iqb356-34"})(["padding:10px 16px;background:transparent;border:none;color:",";font-weight:",";border-bottom:2px solid ",";cursor:pointer;transition:all 0.2s;font-size:0.9rem;&:hover{color:white;}"],function(e){return e.active?"white":"rgba(255, 255, 255, 0.5)"},function(e){return e.active?"600":"400"},function(e){return e.active?"#3b82f6":"transparent"}),ep=x.ZP.div.withConfig({displayName:"blackjack__TabContent",componentId:"sc-iqb356-35"})(["padding:12px;font-size:0.9rem;color:rgba(255,255,255,0.7);background-color:rgba(15,23,42,0.3);border-radius:6px;"]),eu=x.ZP.div.withConfig({displayName:"blackjack__CardWrapper",componentId:"sc-iqb356-36"})(["perspective:800px;width:70px;height:100px;margin:3px;&.new-card{animation:dealCard 0.4s ease-out forwards;}@keyframes dealCard{from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);}}"]),eg=x.ZP.div.withConfig({displayName:"blackjack__CardContainer",componentId:"sc-iqb356-37"})(["width:100%;height:100%;border-radius:6px;background-color:white;color:",";display:flex;flex-direction:column;justify-content:space-between;padding:4px;box-shadow:0 2px 6px rgba(0,0,0,0.3);font-weight:600;position:relative;transition:transform 0.3s;"],function(e){return e.red?"#e74c3c":"#2c3e50"}),eh=x.ZP.div.withConfig({displayName:"blackjack__CardBack",componentId:"sc-iqb356-38"})(['width:100%;height:100%;border-radius:6px;background:linear-gradient(135deg,#1e293b 25%,#334155 25%,#334155 50%,#1e293b 50%,#1e293b 75%,#334155 75%);background-size:16px 16px;box-shadow:0 2px 6px rgba(0,0,0,0.3);display:flex;align-items:center;justify-content:center;&::after{content:"";width:60%;height:60%;border-radius:6px;background:linear-gradient(to bottom right,#3b82f6,#2563eb);box-shadow:0 2px 6px rgba(0,0,0,0.2);}']),ex=x.ZP.div.withConfig({displayName:"blackjack__CardCorner",componentId:"sc-iqb356-39"})(["display:flex;flex-direction:column;align-items:flex-start;"]),em=x.ZP.div.withConfig({displayName:"blackjack__CardValue",componentId:"sc-iqb356-40"})(["font-size:1rem;"]),eb=x.ZP.div.withConfig({displayName:"blackjack__CardSuitIcon",componentId:"sc-iqb356-41"})(["font-size:0.8rem;"]),ef=x.ZP.div.withConfig({displayName:"blackjack__CardCenter",componentId:"sc-iqb356-42"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;"]),ej=(0,x.ZP)(ex).withConfig({displayName:"blackjack__CardCornerBottomRight",componentId:"sc-iqb356-43"})(["position:absolute;bottom:4px;right:4px;transform:rotate(180deg);"]);x.ZP.div.withConfig({displayName:"blackjack__GameActions",componentId:"sc-iqb356-44"})(["display:flex;gap:10px;justify-content:center;margin-top:20px;"]);var ek=x.ZP.div.withConfig({displayName:"blackjack__VSContainer",componentId:"sc-iqb356-45"})(['display:flex;align-items:center;justify-content:center;margin:10px 0;font-size:1.2rem;color:rgba(255,255,255,0.7);position:relative;&::before,&::after{content:"";height:1px;background-color:rgba(255,255,255,0.2);flex:1;}&::before{margin-right:15px;}&::after{margin-left:15px;}']),ey=x.ZP.div.withConfig({displayName:"blackjack__StatusIndicator",componentId:"sc-iqb356-46"})(["padding:6px 12px;border-radius:20px;font-size:0.85rem;background-color:",";color:",';display:inline-flex;align-items:center;font-weight:500;&::before{content:"";width:8px;height:8px;border-radius:50%;background-color:',";margin-right:8px;}"],function(e){switch(e.status){case"waiting":return"rgba(234, 179, 8, 0.2)";case"your-turn":return"rgba(34, 197, 94, 0.2)";case"opponent-turn":return"rgba(59, 130, 246, 0.2)";case"complete":return"rgba(139, 92, 246, 0.2)"}},function(e){switch(e.status){case"waiting":return"#eab308";case"your-turn":return"#22c55e";case"opponent-turn":return"#3b82f6";case"complete":return"#8b5cf6"}},function(e){switch(e.status){case"waiting":return"#eab308";case"your-turn":return"#22c55e";case"opponent-turn":return"#3b82f6";case"complete":return"#8b5cf6"}}),ev=function(e){var n=e.suit,t=e.face,r=e.hidden,a="♥"===n||"♦"===n;return void 0!==r&&r?(0,v.jsx)(eu,{children:(0,v.jsx)(eh,{})}):(0,v.jsx)(eu,{className:"new-card",children:(0,v.jsxs)(eg,{red:a,children:[(0,v.jsxs)(ex,{children:[(0,v.jsx)(em,{children:t}),(0,v.jsx)(eb,{children:n})]}),(0,v.jsx)(ef,{children:n}),(0,v.jsxs)(ej,{children:[(0,v.jsx)(em,{children:t}),(0,v.jsx)(eb,{children:n})]})]})})};n.default=function(){var e,n,t,r,a,o=(0,f.useRouter)(),i=(0,j.Os)(),c=i.connected,s=(i.balance,i.publicKey),l=i.openWalletModal,u=(0,h.useState)([]),x=u[0],m=u[1],N=(0,h.useState)([]),_=N[0],T=N[1],eu=(0,h.useState)(C.IDLE),eg=eu[0],eh=eu[1],ex=(0,h.useState)(0),em=ex[0],eb=ex[1],ef=(0,h.useState)(0),ej=ef[0],ew=ef[1],eN=(0,h.useState)(.05),eC=eN[0],eE=eN[1],eP=(0,h.useState)(E.NOT_DETERMINED),e_=eP[0],eI=eP[1],eS=(0,h.useState)(!1),eT=eS[0],eO=eS[1],eD=(0,h.useState)("rules"),eA=eD[0],eL=eD[1],eZ=(0,h.useState)(I.PLAYER),eR=eZ[0],eq=eZ[1],eG=(0,h.useState)(S.DISCONNECTED),eY=eG[0],eB=eG[1],eW=(0,h.useState)(""),ez=eW[0],eF=eW[1],eM=(0,h.useState)(""),eH=eM[0],eU=eM[1],eJ=(0,h.useState)(null),eV=eJ[0],eK=eJ[1],eQ=(0,h.useState)(null),eX=eQ[0],e$=eQ[1];(0,h.useEffect)(function(){var e,n=(e=(0,p.Z)(g().mark(function e(){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.query.invite,console.log("Router query:",o.query),!(n&&"string"==typeof n)){e.next=21;break}if(console.log("Detected invite code: ".concat(n)),eU(n),!(c&&s)){e.next=18;break}return console.log("User connected with wallet ".concat(s,", attempting to join game")),e.prev=7,e.next=10,e3(n);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.error("Error joining game with invite code:",e.t0),alert("Failed to join game: ".concat(e.t0.message||"Unknown error"));case 16:e.next=21;break;case 18:console.log("Wallet not connected, prompting user to connect"),alert("Please connect your wallet to join this game"),l();case 21:case"end":return e.stop()}},e,null,[[7,12]])})),function(){return e.apply(this,arguments)});o.isReady&&n()},[o.isReady,o.query,c,s]),(0,h.useEffect)(function(){return function(){eV&&eV()}},[eV]);var e0=function(){for(var e=[P.HEARTS,P.DIAMONDS,P.CLUBS,P.SPADES],n=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],t=[],r=0;r<e.length;r++){var a,o=e[r],i=w(n);try{for(i.s();!(a=i.n()).done;){var c=a.value;t.push({suit:o,value:c,face:c})}}catch(e){i.e(e)}finally{i.f()}}for(var s=t.length-1;s>0;s--){var l=Math.floor(Math.random()*(s+1)),d=[t[l],t[s]];t[s]=d[0],t[l]=d[1]}return t},e5=function(e){return e[Math.floor(Math.random()*e.length)]},e1=function(e){var n,t=0,r=0,a=w(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;"A"===o.value?(r++,t+=11):["K","Q","J"].includes(o.value)?t+=10:t+=parseInt(o.value)}}catch(e){a.e(e)}finally{a.f()}for(;t>21&&r>0;)t-=10,r--;return t},e2=(e=(0,p.Z)(g().mark(function e(){var n,t,r,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!c||!s)){e.next=4;break}return alert("Please connect your wallet first."),l(),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,y.JS)("blackjack",s.toString());case 7:eU(t=n=e.sent),e$(n),r="https://rockpapersolana.com",eF("".concat(r,"/game/blackjack?invite=").concat(t)),eB(S.WAITING_FOR_OPPONENT),eh(C.WAITING),a=(0,y.nE)("blackjack",n,function(e){console.log("Game update:",e),"playing"===e.status&&e.opponent&&(eB(S.OPPONENT_CONNECTED),eq(e.currentTurn===s.toString()?I.PLAYER:I.OPPONENT),ne()),e.gameData&&e.currentTurn!==s.toString()&&(e.gameData.opponentHand&&T(e.gameData.opponentHand),e.gameData.opponentScore&&ew(e.gameData.opponentScore),"player"===e.gameData.currentTurn&&eq(I.PLAYER),e.gameData.result!==E.NOT_DETERMINED&&(eI(e.gameData.result),eh(C.RESULT)))}),eK(function(){return a}),console.log("Game created with code: ".concat(t)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),console.error("Error creating game:",e.t0),alert("Failed to create game. Please try again.");case 24:case"end":return e.stop()}},e,null,[[4,20]])})),function(){return e.apply(this,arguments)}),e3=(n=(0,p.Z)(g().mark(function e(n){var t,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n||eH){e.next=4;break}return alert("Please enter an invite code."),e.abrupt("return");case 4:if(!(!c||!s)){e.next=8;break}return alert("Please connect your wallet first."),l(),e.abrupt("return");case 8:return console.log("Attempting to join game with code: ".concat(t)),eB(S.CONNECTING),e.prev=10,e.next=13,(0,y.uB)("blackjack",t);case 13:if(e.sent){e.next=16;break}throw Error("Game not found or has expired");case 16:return e.next=18,(0,y.BD)("blackjack",t,s.toString());case 18:e$(t),r=(0,y.nE)("blackjack",t,function(e){console.log("Game update received:",e),"playing"===e.status&&(eB(S.OPPONENT_CONNECTED),eq(e.currentTurn===s.toString()?I.PLAYER:I.OPPONENT),(eg===C.WAITING||eg===C.IDLE)&&ne(),e.gameData&&(e.gameData.playerHand&&e.currentTurn!==s.toString()&&T(e.gameData.playerHand),e.gameData.playerScore&&e.currentTurn!==s.toString()&&ew(e.gameData.playerScore),"opponent"===e.gameData.currentTurn&&s.toString()!==e.creator&&eq(I.PLAYER),e.gameData.result!==E.NOT_DETERMINED&&(eI(e.gameData.result),eh(C.RESULT))))}),eK(function(){return r}),console.log("Successfully joined game and established connection"),e.next=30;break;case 24:throw e.prev=24,e.t0=e.catch(10),console.error("Error joining game:",e.t0),alert(e.t0.message||"Failed to join game. Please try again."),eB(S.DISCONNECTED),e.t0;case 30:case"end":return e.stop()}},e,null,[[10,24]])})),function(e){return n.apply(this,arguments)}),e6=(t=(0,p.Z)(g().mark(function e(){var n,t,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(eg!==C.PLAYING||eR!==I.PLAYER)){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Player chose to hit"),e.prev=3,n=e5(e0()),console.log("Drew new card: ".concat(n.value," of ").concat(n.suit)),m(t=[].concat((0,d.Z)(x),[n])),r=e1(t),console.log("New player score: ".concat(r)),eb(r),!(r>21)){e.next=22;break}if(console.log("Player busted!"),eI(E.LOSE),eh(C.RESULT),!eX){e.next=20;break}return e.next=19,(0,y.Pg)("blackjack",eX,{gameData:{playerHand:t,playerScore:r,result:E.LOSE,lastAction:"hit",currentTurn:"opponent"}});case 19:console.log("Game state updated after bust");case 20:e.next=29;break;case 22:if(console.log("Switching turn to opponent"),eq(I.OPPONENT),!eX){e.next=28;break}return e.next=27,(0,y.Pg)("blackjack",eX,{currentTurn:s?s.toString()===eX?eX:s.toString():"",gameData:{playerHand:t,playerScore:r,lastAction:"hit",currentTurn:"opponent"}});case 27:console.log("Game state updated after hit");case 28:eY!==S.OPPONENT_CONNECTED&&(console.log("Simulating opponent turn"),setTimeout(function(){e8()},1500));case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(3),console.error("Error handling hit action:",e.t0);case 34:case"end":return e.stop()}},e,null,[[3,31]])})),function(){return t.apply(this,arguments)}),e4=(r=(0,p.Z)(g().mark(function e(){return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(eg!==C.PLAYING||eR!==I.PLAYER)){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Player chose to stand"),e.prev=3,eq(I.OPPONENT),!eX){e.next=9;break}return e.next=8,(0,y.Pg)("blackjack",eX,{currentTurn:s?s.toString()===eX?eX:s.toString():"",gameData:{lastAction:"stand",currentTurn:"opponent"}});case 8:console.log("Game state updated after stand");case 9:eY!==S.OPPONENT_CONNECTED&&(console.log("Simulating opponent turn after player stand"),setTimeout(function(){e8()},1500)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error handling stand action:",e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])})),function(){return r.apply(this,arguments)}),e8=function(){for(var e=e0(),n=(0,d.Z)(_),t=e1(n);t<17;){var r=e5(e);t=e1(n=[].concat((0,d.Z)(n),[r]))}T(n),ew(t),t>21?eI(E.WIN):t>em?eI(E.LOSE):em>t?eI(E.WIN):eI(E.DRAW),eh(C.RESULT)},e9=function(){m([]),T([]),eb(0),ew(0),eI(E.NOT_DETERMINED),eh(C.IDLE),eq(I.PLAYER),eB(S.DISCONNECTED),eF(""),eU("")},e7=function(e){switch(e){case P.HEARTS:return"♥";case P.DIAMONDS:return"♦";case P.CLUBS:return"♣";case P.SPADES:return"♠";default:return""}},ne=function(){if(!c){alert("Please connect your wallet first.");return}m([]),T([]),eb(0),ew(0),eI(E.NOT_DETERMINED);var e=e0(),n=[e5(e),e5(e)],t=[e5(e),e5(e)];m(n),T(t),eb(e1(n)),ew(e1(t)),eh(C.PLAYING),eq(I.PLAYER)},nn=(a=(0,p.Z)(g().mark(function e(){var n,t,r;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ez){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,navigator.clipboard.writeText(ez);case 5:(n=document.querySelector(".game-invite-code"))&&(t=n.textContent,n.textContent="Copied!",n.classList.add("copied"),setTimeout(function(){n.textContent=t,n.classList.remove("copied")},1500)),e.next=19;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Failed to copy:",e.t0),(r=document.createElement("textarea")).value=ez,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("Game link copied to clipboard!");case 19:case"end":return e.stop()}},e,null,[[2,9]])})),function(){return a.apply(this,arguments)});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(b(),{children:[(0,v.jsx)("title",{children:"Blackjack 1v1 - Rock Paper Solana"}),(0,v.jsx)("meta",{name:"description",content:"Play Blackjack 1v1 against other players and win SOL."})]}),(0,v.jsxs)(O,{children:[(0,v.jsx)(k.Z,{collapsed:eT,currentPage:"blackjack",toggleSidebar:function(){eO(!eT)}}),(0,v.jsx)(D,{collapsed:eT,children:(0,v.jsxs)(A,{children:[(0,v.jsxs)(L,{children:[(0,v.jsx)(Z,{children:eg===C.IDLE?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{children:"Place Your Bet"}),(0,v.jsxs)(H,{children:[(0,v.jsx)(R,{children:"Bet Amount (SOL)"}),(0,v.jsxs)(q,{children:[(0,v.jsx)(Y,{children:"Ⓢ"}),(0,v.jsx)(G,{type:"number",step:"0.01",min:"0.01",value:eC,onChange:function(e){return eE(parseFloat(e.target.value))}})]}),(0,v.jsxs)(B,{children:[(0,v.jsx)(W,{onClick:function(){return eE(.05)},children:"0.05"}),(0,v.jsx)(W,{onClick:function(){return eE(.1)},children:"0.1"}),(0,v.jsx)(W,{onClick:function(){return eE(.5)},children:"0.5"}),(0,v.jsx)(W,{onClick:function(){return eE(1)},children:"1"})]})]}),(0,v.jsxs)(U,{children:[(0,v.jsx)(F,{onClick:e2,type:"button",disabled:!c,children:"Create Game"}),(0,v.jsx)(M,{onClick:function(){if(!c){alert("Please connect your wallet first."),l();return}eB(S.CONNECTING),setTimeout(function(){eB(S.OPPONENT_CONNECTED),ne()},2e3)},type:"button",disabled:!c,children:"Find Opponent"})]}),(0,v.jsxs)(U,{children:[(0,v.jsx)(R,{children:"Join with Invite Code"}),(0,v.jsx)(q,{style:{marginBottom:"8px"},children:(0,v.jsx)(G,{type:"text",placeholder:"Enter code",value:eH,onChange:function(e){return eU(e.target.value)}})}),(0,v.jsx)(F,{onClick:function(){return e3()},type:"button",disabled:!c||!eH,children:"Join Game"})]}),(0,v.jsxs)(K,{children:[(0,v.jsx)("p",{children:"Play Blackjack 1v1 against another player! First player to 21 wins, but go over and you lose."}),(0,v.jsx)("p",{children:"• Create a game and invite friends"}),(0,v.jsx)("p",{children:"• Find an opponent for quick play"}),(0,v.jsx)("p",{children:"• Join a game with an invite code"})]})]}):eg===C.WAITING?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{children:"Game Created"}),(0,v.jsxs)(ee,{children:["Current Bet: ",(0,v.jsxs)("span",{children:[eC," SOL"]})]}),(0,v.jsx)(R,{children:"Share this code with your opponent"}),(0,v.jsx)(q,{className:"game-invite-code",style:{marginBottom:"12px"},children:(0,v.jsx)(G,{type:"text",value:eH,readOnly:!0})}),(0,v.jsx)(F,{onClick:nn,type:"button",children:"Copy Game Link"}),(0,v.jsx)(M,{onClick:e9,style:{marginTop:"8px"},children:"Cancel Game"}),(0,v.jsxs)(K,{style:{marginTop:"16px"},children:[(0,v.jsx)("p",{children:"Waiting for opponent to join your game..."}),(0,v.jsx)("p",{children:"Share the invite code or link with a friend"})]})]}):eg===C.PLAYING?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{children:"Game In Progress"}),(0,v.jsxs)(ee,{children:["Current Bet: ",(0,v.jsxs)("span",{children:[eC," SOL"]})]}),(0,v.jsx)("div",{style:{textAlign:"center",margin:"10px 0"},children:eR===I.PLAYER?(0,v.jsx)(ey,{status:"your-turn",children:"Your Turn"}):(0,v.jsx)(ey,{status:"opponent-turn",children:"Opponent's Turn"})}),eR===I.PLAYER&&(0,v.jsxs)(U,{children:[(0,v.jsx)(J,{onClick:e6,disabled:eR!==I.PLAYER,children:"Hit Me"}),(0,v.jsx)(V,{onClick:e4,disabled:eR!==I.PLAYER,children:"Stand"})]}),(0,v.jsxs)(K,{children:[(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Your Score:"}),(0,v.jsx)($,{children:em})]}),(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Opponent Score:"}),(0,v.jsx)($,{children:ej})]})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(z,{children:"Game Result"}),(0,v.jsxs)(ee,{children:["Bet Amount: ",(0,v.jsxs)("span",{children:[eC," SOL"]})]}),(0,v.jsxs)(ec,{result:e_,children:[(0,v.jsxs)("h3",{children:[e_===E.WIN&&"You Won!",e_===E.LOSE&&"You Lost!",e_===E.DRAW&&"It's a Tie!"]}),(0,v.jsxs)("p",{children:[e_===E.WIN&&"You've won ".concat((2*eC).toFixed(2)," SOL"),e_===E.LOSE&&"Better luck next time!",e_===E.DRAW&&"Your bet has been returned."]})]}),(0,v.jsx)(F,{onClick:e9,children:"Play Again"})]})}),(0,v.jsxs)(en,{children:[(0,v.jsx)(et,{children:"Blackjack 1v1"}),eg===C.IDLE&&(0,v.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px",flexDirection:"column"},children:(0,v.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.6)",marginBottom:"20px",textAlign:"center"},children:"Create a game or find an opponent to start playing"})}),eg===C.WAITING&&(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px",flexDirection:"column"},children:[(0,v.jsx)(ey,{status:"waiting",children:"Waiting for Opponent"}),(0,v.jsxs)("p",{style:{color:"rgba(255, 255, 255, 0.6)",margin:"20px 0",textAlign:"center"},children:["Share your invite code: ",(0,v.jsx)("strong",{children:eH})]})]}),(eg===C.PLAYING||eg===C.RESULT)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(ea,{children:[(0,v.jsxs)(eo,{children:["Opponent: ",ej]}),(0,v.jsx)(ei,{children:_.map(function(e,n){return(0,v.jsx)(ev,{suit:e7(e.suit),face:e.face,hidden:eg===C.PLAYING&&eR===I.PLAYER&&n===_.length-1},"opponent-".concat(e.suit,"-").concat(e.value,"-").concat(n))})})]}),(0,v.jsx)(ek,{children:"VS"}),(0,v.jsxs)(er,{children:[(0,v.jsxs)(eo,{children:["You: ",em]}),(0,v.jsx)(ei,{children:x.map(function(e,n){return(0,v.jsx)(ev,{suit:e7(e.suit),face:e.face},"player-".concat(e.suit,"-").concat(e.value,"-").concat(n))})})]}),e_!==E.NOT_DETERMINED&&eg===C.RESULT&&(0,v.jsxs)(ec,{result:e_,children:[(0,v.jsxs)("h3",{children:[e_===E.WIN&&"You Won!",e_===E.LOSE&&"You Lost!",e_===E.DRAW&&"It's a Tie!"]}),(0,v.jsxs)("p",{children:[e_===E.WIN&&"You've won ".concat((2*eC).toFixed(2)," SOL"),e_===E.LOSE&&"Better luck next time!",e_===E.DRAW&&"Your bet has been returned."]})]})]})]})]}),(0,v.jsxs)(es,{children:[(0,v.jsxs)(el,{children:[(0,v.jsx)(ed,{active:"rules"===eA,onClick:function(){return eL("rules")},children:"Rules"}),(0,v.jsx)(ed,{active:"history"===eA,onClick:function(){return eL("history")},children:"Game History"}),(0,v.jsx)(ed,{active:"stats"===eA,onClick:function(){return eL("stats")},children:"Statistics"})]}),(0,v.jsx)(ep,{children:function(){switch(eA){case"history":return(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{children:"Your game history will appear here once you've played some games."}),(0,v.jsx)("p",{style:{marginTop:"8px",fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:"Track your wins, losses, and other statistics to improve your gameplay strategy."})]});case"stats":return(0,v.jsxs)("div",{children:[(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Games Played:"}),(0,v.jsx)($,{children:"0"})]}),(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Games Won:"}),(0,v.jsx)($,{children:"0"})]}),(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Win Rate:"}),(0,v.jsx)($,{children:"0%"})]}),(0,v.jsxs)(Q,{children:[(0,v.jsx)(X,{children:"Average Bet:"}),(0,v.jsx)($,{children:"0 SOL"})]}),(0,v.jsx)("p",{style:{marginTop:"12px",fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.5)"},children:"Play more games to see your statistics and track your progress."})]});default:return(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"8px",color:"#3b82f6"},children:"Game Objective"}),(0,v.jsx)("p",{style:{marginBottom:"12px"},children:'Get a hand value closer to 21 than your opponent without going over. If you exceed 21, you "bust" and lose the game.'}),(0,v.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"8px",color:"#3b82f6"},children:"Card Values"}),(0,v.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"12px",flexWrap:"wrap"},children:[(0,v.jsxs)("div",{style:{background:"rgba(15, 23, 42, 0.5)",padding:"6px 10px",borderRadius:"4px",flex:"1 0 calc(33% - 10px)"},children:[(0,v.jsx)("strong",{children:"2-10:"})," Face value"]}),(0,v.jsxs)("div",{style:{background:"rgba(15, 23, 42, 0.5)",padding:"6px 10px",borderRadius:"4px",flex:"1 0 calc(33% - 10px)"},children:[(0,v.jsx)("strong",{children:"J, Q, K:"})," 10 points"]}),(0,v.jsxs)("div",{style:{background:"rgba(15, 23, 42, 0.5)",padding:"6px 10px",borderRadius:"4px",flex:"1 0 calc(33% - 10px)"},children:[(0,v.jsx)("strong",{children:"Ace:"})," 1 or 11"]})]}),(0,v.jsx)("h3",{style:{fontSize:"1rem",marginBottom:"8px",color:"#3b82f6"},children:"Gameplay"}),(0,v.jsxs)("ol",{style:{paddingLeft:"16px",marginBottom:"0"},children:[(0,v.jsx)("li",{children:"Both players receive two cards to start"}),(0,v.jsx)("li",{children:'On your turn, choose to "Hit" (draw another card) or "Stand" (end your turn)'}),(0,v.jsx)("li",{children:"Your opponent will then take their turn"}),(0,v.jsx)("li",{children:"The player closest to 21 without busting wins"}),(0,v.jsx)("li",{children:"Equal scores result in a tie"})]})]})}}()})]})]})})]})]})}},2701:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/blackjack",function(){return t(1105)}])}},function(e){e.O(0,[627,414,257,888,774,179],function(){return e(e.s=2701)}),_N_E=e.O()}]);